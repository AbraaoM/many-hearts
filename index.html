<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cora√ß√£o M√≥vel Disparando Cora√ß√µes M√≥veis</title>
    <style>
        body {
            overflow: hidden;
            margin: 0;
            background-color: #f0f0f0;
            display: flex; /* Usar flexbox para centralizar */
            justify-content: center; /* Centralizar horizontalmente */
            align-items: center; /* Centralizar verticalmente */
            min-height: 100vh; /* Garantir altura total da viewport */
            position: relative; /* Para posicionar elementos absolutos dentro */
        }

        #coracaoPrincipal {
            position: absolute; /* Manter posicionamento absoluto para o movimento */
            font-size: 3em;
            color: red;
            user-select: none;
            z-index: 10; /* Garantir que fique acima dos cora√ß√µes pequenos */
        }

        .coracaoPequeno {
            position: absolute;
            font-size: 1.5em;
            color: pink;
            user-select: none;
            cursor: pointer; /* Indicar que √© clic√°vel */
            transition: transform 0.2s ease-out, opacity 0.2s ease-out; /* Transi√ß√£o suave para burst */
        }

        /* Anima√ß√£o para o "burst" do cora√ß√£o pequeno */
        .coracaoPequeno.bursting {
            animation: heartBurst 0.5s ease-out forwards;
        }

        @keyframes heartBurst {
            0% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.5) rotate(10deg);
                opacity: 0.8;
            }
            100% {
                transform: scale(0) rotate(20deg);
                opacity: 0;
            }
        }


        .textoExplosao {
            position: absolute;
            font-size: 1em; /* Tamanho inicial pequeno */
            color: #ff1493; /* Cor rosa choque */
            font-weight: bold;
            user-select: none;
            opacity: 1; /* Opacidade inicial */
            transform: translate(-50%, -50%) rotate(0deg); /* Centralizar e rota√ß√£o inicial */
            animation: crescerEsumir 1.5s ease-out forwards; /* Anima√ß√£o mais r√°pida */
            z-index: 20; /* Garantir que fique acima de tudo */
            pointer-events: none; /* Ignorar eventos de mouse no texto de explos√£o */
            text-shadow: 0 0 5px #ff69b4, 0 0 10px #ff69b4; /* Sombra para efeito de brilho */
        }

        @keyframes crescerEsumir {
            0% {
                font-size: 1em;
                opacity: 1;
                transform: translate(-50%, -50%) rotate(0deg);
            }
            30% {
                 font-size: 4em; /* Cresce r√°pido no in√≠cio */
                 opacity: 1;
                 transform: translate(-50%, -50%) rotate(5deg);
            }
            100% {
                font-size: 8em; /* Continua crescendo enquanto some */
                opacity: 0; /* Desaparece */
                transform: translate(-50%, -50%) rotate(-5deg); /* Rota√ß√£o final */
            }
        }
    </style>
</head>
<body>
    <div id="coracaoPrincipal">‚ù§Ô∏è</div>

    <script>
        const coracaoPrincipal = document.getElementById('coracaoPrincipal');
        let xPrincipal = Math.random() * window.innerWidth;
        let yPrincipal = Math.random() * window.innerHeight;
        let dxPrincipal = (Math.random() - 0.5) * 2;
        let dyPrincipal = (Math.random() - 0.5) * 2;
        const velocidadePrincipal = 7; // Ajuste a velocidade do cora√ß√£o principal
        let larguraPrincipal = coracaoPrincipal.offsetWidth;
        let alturaPrincipal = coracaoPrincipal.offsetHeight;

        const coracoesPequenos = [];
        const velocidadePequenos = 3; // Ajuste a velocidade dos cora√ß√µes pequenos

        // Fun√ß√£o para animar o cora√ß√£o principal
        function animarCoracaoPrincipal() {
            xPrincipal += dxPrincipal * velocidadePrincipal;
            yPrincipal += dyPrincipal * velocidadePrincipal;

            // Rebatimento nas bordas para o cora√ß√£o principal
            if (xPrincipal + larguraPrincipal > window.innerWidth || xPrincipal < 0) {
                dxPrincipal = -dxPrincipal;
            }

            if (yPrincipal + alturaPrincipal > window.innerHeight || yPrincipal < 0) {
                dyPrincipal = -dyPrincipal;
            }

            coracaoPrincipal.style.left = xPrincipal + 'px';
            coracaoPrincipal.style.top = yPrincipal + 'px';

            // Disparar cora√ß√µes pequenos aleatoriamente
            if (Math.random() < 0.01) { // Ajuste a frequ√™ncia do disparo (0.01 = 1% por frame)
                criarCoracaoPequeno(xPrincipal + larguraPrincipal / 2, yPrincipal + alturaPrincipal / 2);
            }

            requestAnimationFrame(animarCoracaoPrincipal);
        }

        // Fun√ß√£o para criar um cora√ß√£o pequeno
        function criarCoracaoPequeno(startX, startY) {
            const novoCoracao = document.createElement('div');
            novoCoracao.classList.add('coracaoPequeno');
            novoCoracao.textContent = 'üíñ';
            document.body.appendChild(novoCoracao);

            // Posicionar o cora√ß√£o pequeno no centro do cora√ß√£o principal
            novoCoracao.style.left = startX - novoCoracao.offsetWidth / 2 + 'px';
            novoCoracao.style.top = startY - novoCoracao.offsetHeight / 2 + 'px';

            // Definir velocidade e dire√ß√£o aleat√≥rias para o cora√ß√£o pequeno
            const angulo = Math.random() * 2 * Math.PI;
            const vxPequeno = Math.cos(angulo) * velocidadePequenos * (Math.random() + 0.5);
            const vyPequeno = Math.sin(angulo) * velocidadePequenos * (Math.random() + 0.5);

            const coracaoObj = {
                elemento: novoCoracao,
                x: parseFloat(novoCoracao.style.left),
                y: parseFloat(novoCoracao.style.top),
                vx: vxPequeno,
                vy: vyPequeno,
                largura: novoCoracao.offsetWidth,
                altura: novoCoracao.offsetHeight
            };

            coracoesPequenos.push(coracaoObj);

            // Adicionar evento de clique ao cora√ß√£o pequeno
            novoCoracao.addEventListener('click', () => {
                // Adicionar classe para iniciar a anima√ß√£o de burst
                coracaoObj.elemento.classList.add('bursting');

                // Criar texto de explos√£o na posi√ß√£o do cora√ß√£o pequeno
                criarTextoExplosao(coracaoObj.x + coracaoObj.largura / 2, coracaoObj.y + coracaoObj.altura / 2);

                // Remover o elemento e do array ap√≥s a anima√ß√£o de burst terminar
                coracaoObj.elemento.addEventListener('animationend', () => {
                     // Remover o elemento do cora√ß√£o pequeno do DOM
                    coracaoObj.elemento.remove();

                    // Remover o cora√ß√£o pequeno do array para parar a anima√ß√£o
                    const index = coracoesPequenos.indexOf(coracaoObj);
                    if (index > -1) {
                        coracoesPequenos.splice(index, 1);
                    }
                });
            });
        }

        // Fun√ß√£o para animar os cora√ß√µes pequenos
        function animarCoracoesPequenos() {
            // Iterar sobre os cora√ß√µes pequenos (usando um loop for decrescente para evitar problemas ao remover elementos)
            for (let i = coracoesPequenos.length - 1; i >= 0; i--) {
                const coracao = coracoesPequenos[i];

                // S√≥ anima se n√£o estiver explodindo
                if (!coracao.elemento.classList.contains('bursting')) {
                    coracao.x += coracao.vx;
                    coracao.y += coracao.vy;

                    // Rebatimento nas bordas para os cora√ß√µes pequenos
                    if (coracao.x + coracao.largura > window.innerWidth || coracao.x < 0) {
                        coracao.vx = -coracao.vx;
                    }
                    if (coracao.y + coracao.altura > window.innerHeight || coracao.y < 0) {
                        coracao.vy = -coracao.vy;
                    }

                    coracao.elemento.style.left = coracao.x + 'px';
                    coracao.elemento.style.top = coracao.y + 'px';
                }
            }
            requestAnimationFrame(animarCoracoesPequenos);
        }

        // Fun√ß√£o para criar o texto de explos√£o
        function criarTextoExplosao(x, y) {
            const textoElemento = document.createElement('div');
            textoElemento.classList.add('textoExplosao');
            textoElemento.textContent = 'VIVI!'; // Texto que aparece na explos√£o
            document.body.appendChild(textoElemento);

            // Posicionar o texto no local da explos√£o
            textoElemento.style.left = x + 'px';
            textoElemento.style.top = y + 'px';

            // Remover o elemento ap√≥s a anima√ß√£o (j√° configurado no CSS)
             textoElemento.addEventListener('animationend', () => {
                textoElemento.remove();
            });
        }

        // Inicializa√ß√£o quando a janela carrega
        window.onload = () => {
            // Obter as dimens√µes do cora√ß√£o principal ap√≥s o carregamento
            larguraPrincipal = coracaoPrincipal.offsetWidth;
            alturaPrincipal = coracaoPrincipal.offsetHeight;
            // Iniciar as anima√ß√µes
            animarCoracaoPrincipal();
            animarCoracoesPequenos();
        };

        // Atualizar dimens√µes do cora√ß√£o principal ao redimensionar a janela
        window.addEventListener('resize', () => {
            larguraPrincipal = coracaoPrincipal.offsetWidth;
            alturaPrincipal = coracaoPrincipal.offsetHeight;
        });
    </script>
</body>
</html>
